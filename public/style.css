/* =========================================================
   style.css — UI limpia, moderna y responsive
   (sin cambiar nombres de clases existentes)
========================================================= */

/* ---------- Variables & Reset ---------- */
:root{
  --bg:#F6F7FB;
  --surface:#FFFFFF;
  --text:#0F172A;
  --muted:#64748B;
  --border:#E5E7EB;

  --primary:#4F46E5;   /* indigo */
  --primary-600:#4338CA;
  --primary-100:#EEF2FF;

  --success:#16A34A;   /* green */
  --success-600:#15803D;
  --success-100:#ECFDF5;

  --danger:#E11D48;    /* rose */
  --danger-600:#BE123C;
  --danger-100:#FFF1F2;

  --info:#0EA5E9;      /* sky */
  --info-600:#0284C7;
  --info-100:#E0F2FE;

  --purple:#7C3AED;    /* violet */
  --purple-600:#6D28D9;
  --purple-100:#F3E8FF;

  --shadow-sm: 0 2px 10px rgba(2,6,23,.06);
  --shadow-md: 0 8px 24px rgba(2,6,23,.08);
  --radius-lg: 12px;
  --radius-md: 10px;
  --radius-sm: 8px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji", "Segoe UI Symbol";
  color:var(--text);
  background:linear-gradient(180deg,#f9fafb, var(--bg));
}

/* ---------- Layouts ---------- */
.container{max-width:1180px;margin:18px auto;padding:0 16px}

.topbar{
  position:sticky; top:0; z-index:10;
  display:flex;justify-content:space-between;align-items:center;
  padding:14px 18px; background:var(--surface);
  box-shadow:var(--shadow-sm);
}
.topbar h1{margin:0; font-size:1.45rem; letter-spacing:.2px}
.userbar{display:flex;gap:10px;align-items:center}

/* ---------- Cards / Sections ---------- */
.card,
.admin-section-card{
  background:var(--surface);
  padding:16px;
  margin:16px 0;
  border-radius:var(--radius-lg);
  box-shadow:var(--shadow-sm);
  transition:box-shadow .2s ease, transform .08s ease;
}
.card:hover,
.admin-section-card:hover{ box-shadow:var(--shadow-md) }

.hidden{display:none}

h2{margin:0 0 12px 0; font-size:1.35rem}
h3{margin:4px 0 12px 0; font-size:1.1rem; color:#111827}

.form-row{
  display:flex; gap:10px; flex-wrap:wrap; align-items:center;
  margin:6px 0;
}
.right{ margin-left:auto }

/* ---------- Inputs & Selects ---------- */
input[type="text"],
input[type="password"],
input[type="number"],
input[type="date"],
select{
  appearance:none;
  border:1px solid var(--border);
  background:#fff;
  color:var(--text);
  padding:10px 12px;
  border-radius:var(--radius-sm);
  outline:none;
  transition:border-color .15s ease, box-shadow .15s ease;
  min-height:40px;
}
input:focus, select:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 3px var(--primary-100);
}

input[type="file"]{
  border:1px dashed var(--border);
  padding:10px;
  border-radius:var(--radius-sm);
  background:#fff;
}

/* ---------- Buttons ---------- */
button{
  cursor:pointer; user-select:none;
  border:0; padding:10px 14px;
  border-radius:var(--radius-md);
  font-weight:600; letter-spacing:.2px;
  transition:transform .05s ease, box-shadow .2s ease, background-color .15s ease;
  box-shadow:0 1px 0 rgba(2,6,23,.04);
}
button:active{ transform:translateY(1px) }

.button-primary{ background:var(--primary); color:#fff }
.button-primary:hover{ background:var(--primary-600) }
.button-primary:disabled{ opacity:.7; cursor:default }

.button-success{ background:var(--success); color:#fff }
.button-success:hover{ background:var(--success-600) }

.button-danger{ background:var(--danger); color:#fff }
.button-danger:hover{ background:var(--danger-600) }

.button-secondary{ background:var(--info); color:#fff }
.button-secondary:hover{ background:var(--info-600) }

.button-purple{ background:var(--purple); color:#fff }
.button-purple:hover{ background:var(--purple-600) }

/* ---------- Tables ---------- */
table{width:100%; border-collapse:separate; border-spacing:0}
thead th{
  position:sticky; top:0; z-index:1;
  background:#F8FAFC;
  border-bottom:1px solid var(--border);
  color:#111827; font-weight:700; font-size:.95rem;
  padding:12px;
}
td{
  padding:12px; border-bottom:1px solid var(--border);
  vertical-align:middle; font-size:.95rem;
}
tr:hover td{ background:#FCFCFE }

.scroll{ overflow:auto; border:1px solid var(--border); border-radius:var(--radius-lg) }
.scroll table{ min-width:820px }

/* Icono de teléfono clicable */
td a[href^="tel:"]{
  color:var(--primary); text-decoration:none; font-weight:600;
}
td a[href^="tel:"]:hover{ text-decoration:underline }

/* Checkbox / selects dentro de tabla */
#tablaAsignarClientes input[type="checkbox"]{ width:18px; height:18px }
#tablaAsignarClientes select{ min-width:180px }

/* ---------- Mensajes ---------- */
.info{
  color:var(--muted);
  font-size:.95rem;
  padding:8px 10px;
  background:#fff;
  border:1px solid var(--border);
  border-radius:var(--radius-sm);
}

.toast{
  position:fixed; bottom:18px; right:18px;
  background:#111827; color:#fff;
  padding:10px 14px; border-radius:10px;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
  max-width:320px; line-height:1.3;
}
.toast.hidden{ display:none }

/* ---------- Login ---------- */
body.login{ display:grid; place-items:center; background:linear-gradient(180deg,#F8FAFF,#F1F5F9) }
.login-card{
  width:360px; max-width:92vw;
  background:var(--surface);
  padding:24px; border-radius:16px;
  box-shadow:var(--shadow-md);
  display:grid; gap:12px;
}
.login-card h1{ margin:0 0 6px 0; text-align:center }
.login-card input{ width:100% }
.login-card .button-primary{ width:100% }

/* ---------- Badges (opcional por si los usas) ---------- */
.badge{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border-radius:999px;
  font-size:.85rem; font-weight:600;
  border:1px solid var(--border); background:#fff; color:#111827;
}
.badge.success{ background:var(--success-100); border-color:#D1FAE5; color:var(--success-600) }
.badge.info{ background:var(--info-100); border-color:#BAE6FD; color:var(--info-600) }
.badge.danger{ background:var(--danger-100); border-color:#FFE4E6; color:var(--danger-600) }
.badge.primary{ background:var(--primary-100); border-color:#C7D2FE; color:var(--primary-600) }

/* ---------- Mapa ---------- */
#mapa{
  height:420px;
  border-radius:var(--radius-lg);
  overflow:hidden;
  border:1px solid var(--border);
  background:#F1F5F9;
  box-shadow:inset 0 1px 0 rgba(2,6,23,.04);
}

/* ---------- Responsive ---------- */
@media (max-width: 920px){
  .topbar h1{ font-size:1.2rem }
  .form-row{ gap:8px }
  thead th, td{ padding:10px }
}

@media (max-width: 640px){
  .userbar{ gap:6px }
  .userbar .button-danger{ padding:8px 10px }
  .form-row{ flex-direction:column; align-items:stretch }
  .right{ margin-left:0 }
  button{ width:100% }
  #tablaAsignarClientes select{ width:100% }
  input[type="text"], input[type="password"], input[type="number"], input[type="date"], select{ width:100% }
  .scroll table{ min-width:680px }
}
/* ==== Fix: que la columna "Acción" siempre sea visible (sticky right) ==== */
.scroll{ position: relative; } /* necesario para sticky */

#tablaClientes th:last-child,
#tablaClientes td:last-child{
  position: sticky;
  right: 0;
  background: #FFFFFF;                /* que no se transparente sobre celdas */
  z-index: 2;                          /* por encima del resto */
  box-shadow: -8px 0 12px rgba(2,6,23,.04); /* sutil separador a la izquierda */
}

/* Botón más compacto dentro de la columna Acción */
#tablaClientes td:last-child button{
  padding: 8px 10px;
  white-space: nowrap;
  min-width: 110px;
}

/* (Opcional) Compactar un poco inputs y selects para ganar espacio horizontal */
#tablaClientes td .monto{ max-width: 130px; }
#tablaClientes td .observaciones{ max-width: 220px; }
#tablaClientes td .resultado{ max-width: 160px; }

/* En pantallas muy pequeñas, permitir ancho completo de los controles */
@media (max-width: 640px){
  #tablaClientes td .monto,
  #tablaClientes td .observaciones,
  #tablaClientes td .resultado{
    max-width: none;
    width: 100%;
  }
}
/* ====== Mejor uso del ancho en la bandeja del gestor ====== */

/* 1) Más ancho total del layout */
.container{ max-width: 1380px; }

/* 2) Anchos de columnas (tabla Mis Clientes Asignados) */
#tablaClientes{ table-layout: fixed; } /* respeta los anchos que definimos */
#tablaClientes th, #tablaClientes td{ white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Cliente, Teléfono, Dirección, Tarifa, Exigible, Saldo, Monto, Resultado, Observaciones, Acción */
#tablaClientes th:nth-child(1), #tablaClientes td:nth-child(1){ width: 18%; } /* Cliente */
#tablaClientes th:nth-child(2), #tablaClientes td:nth-child(2){ width: 11%; } /* Teléfono */
#tablaClientes th:nth-child(3), #tablaClientes td:nth-child(3){ width: 10%; } /* Dirección */
#tablaClientes th:nth-child(4), #tablaClientes td:nth-child(4){ width: 8%;  } /* Tarifa */
#tablaClientes th:nth-child(5), #tablaClientes td:nth-child(5){ width: 8%;  } /* Saldo Exigible */
#tablaClientes th:nth-child(6), #tablaClientes td:nth-child(6){ width: 8%;  } /* Saldo */
#tablaClientes th:nth-child(7), #tablaClientes td:nth-child(7){ width: 11%; } /* Monto Cobrado */
#tablaClientes th:nth-child(8), #tablaClientes td:nth-child(8){ width: 11%; } /* Resultado */

/* Observaciones toma el espacio restante */
#tablaClientes th:nth-child(9), #tablaClientes td:nth-child(9){ width: auto; white-space: normal; }

/* Acción, pegada a la derecha */
#tablaClientes th:nth-child(10), #tablaClientes td:nth-child(10){ width: 9%; }

/* 3) Inputs/controles a 100% dentro de su celda */
#tablaClientes td .monto,
#tablaClientes td .observaciones,
#tablaClientes td .resultado{
  width: 100%;
  max-width: none;
}

/* 4) Columna "Acción" sticky (para que siempre se vea el botón) */
.scroll{ position: relative; }
#tablaClientes th:last-child,
#tablaClientes td:last-child{
  position: sticky;
  right: 0;
  background: #FFFFFF;
  z-index: 2;
  box-shadow: -6px 0 10px rgba(2,6,23,.05);
}
#tablaClientes td:last-child button{
  padding: 8px 10px;
  min-width: 104px;
  white-space: nowrap;
}

/* 5) En pantallas pequeñas permitimos que Observaciones haga wrap y todo sea usable */
@media (max-width: 900px){
  #tablaClientes th, #tablaClientes td{ white-space: normal; }
}

